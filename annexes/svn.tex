\chapter{Travail collaboratif : les logiciels de suivi des révisions}\label{principesvn}    % Voir s'il ne faut pas mettre à un autre niveau

\begin{prealable}
    La plupart des traitements de texte proposent des systèmes pour travailler à plusieurs sur un même fichier et garder une historique des révisions, indiquant les modifications, leurs dates et leurs auteurs respectifs. 
    
    Comment faire en \LaTeX{} ? La solution la plus simple est d'utiliser un logiciel de suivi des révisions, utilisé par les programmeurs qui travaillent à plusieurs sur un projet.
\end{prealable}

\section{Principe}
Imaginons que Bob et Alice travaillent ensemble sur un projet\footnote{Le nombre de collaborateurs avec de tels système est illimité : ici nous n'en prenons que deux pour simplifier.}. Ils souhaitent pouvoir échanger facilement leurs modifications.

Pour ce faire ils vont déposer les fichiers initiaux sur un serveur (un ordinateur distant). Puis chacun récupère les fichiers sur son propre ordinateur, à l'aide de commandes spécifiques au logiciel utilisé.

Bob fait des modifications (1) : il envoie ces modifications sur le serveur, en les accompagnant d'un petit message les résumant. Alice peut alors récupérer ces modifications en local (2). Si Bob n'a modifié qu'un seul fichier, seul ce fichier sera récupéré par Alice : cela permet à Alice de modifier d'autres fichiers pendant ce temps. Une fois ses modifications faites, Alice les envoie sur le serveur, en les accompagnant d'un petit message les résumant (3), et Bob peut ainsi les récupérer. Ces étapes sont représentées dans le schéma~\ref{svn}. \renvoi{svn}

Il est aussi possible de faire d'autres opérations : renommer, déplacer, dupliquer les fichiers sur le serveurs distant. En outre, ces logiciels permettent, si deux personnes ont fait des modifications en même temps sur le même fichier, de proposer de ne garder que certaines de ces modifications\footnote{Le jargon nomme cette étape une résolution de \emph{conflit}.}

\begin{figure}[ht]
\centering
\include{schemas/svn}
\caption{Fonctionnement des logiciels de suivi des révision}\label{svn}
\end{figure}

L'intérêt d'un tel système est multiple :
\begin{itemize}
\item Il est aisé de s'assurer qu'on possède bien la dernière version du projet, contrairement aux échanges classiques par courriels qui peuvent rapidement semer la confusion.
\item On possède un historique des versions permettant de revenir en arrière, le cas échéant\footnote{C'est pourquoi il est possible d'utiliser un tel système avec une seule personne, pour se garantir un suivi du travail.}.
\item Pour autant, contrairement aux système des logiciels de traitement de texte, l'historique des versions ne se situe pas à l'intérieur du fichier de travail, ce qui évite une prise de poids et un certain nombre de problème (notamment ralentissement et corruption du fichier).
\end{itemize}


\section{Mise en pratique}
Les logiciels de suivi des révisions sont multiples : citons SVN, Git et Mercurial. Le premier est sans doute plus simple en première approche, mais les deux autres possèdent des fonctionnalité plus souples, notamment dans le fait qu'il n'y a pas un serveur unique, comme sur notre schéma, mais plusieurs serveurs qui peuvent être synchronisés.

Un certains nombres d'hébergeurs proposent des services SVN, Git ou Mercurial (toutefois par soucis de confidentialité il est conseillé de demander aux services informatiques de l'institution dans laquelle ce projet commun s'inscrit). 

Git et Mercurial ne nécessitent pas nécessairement pour fonctionner un serveur distant. C'est pourquoi on peut facilement s'en servir pour gérer un historique de modification sur un projet mono-rédacteurs.

La manipulation de ces outils peut se faire en ligne de commande, mais il existe également des logiciels graphiques.

Nous invitons le lecteur curieux à se renseigner sur internet pour plus d'informations : il y trouvera aisément documentations et tutoriels\footcite[Nous recommandons, pour Git, cet excellent livre :][]{progit}.
