\chapter{Structurer son travail}
\begin{prealable}
Après avoir découvert les bases de \LaTeX{}, apprenons la manière de structurer son travail.
\end{prealable}

\section{Différents niveaux de titres}\label{niveautitre}

\LaTeX{} propose par défaut six ou sept niveaux de titre, selon la classe choisie.
Pour introduire un titre dans \LaTeX{} -- en dehors du titre du travail --, il suffit d'utiliser une commande de titre, qui possède la syntaxe suivante:
\begin{minted}{latex}
\titre[titre court]{titre long}
\end{minted}

Le titre court est facultatif, comme l'indique le fait qu'il soit entre crochets\renvoi{syntaxecommande}. Il servira pour la table de matière et, éventuellement, pour les entêtes des pages\renvoi{toc}\renvoi{entete}.

Évidemment \cs{titre} doit être remplacé par le type de titre. Voici les niveaux de titre disponibles, du plus général au plus détaillé. Plus un titre se trouve haut dans la hiérachie, plus son numéro de niveau est faible.

 	\begin{tabular}{|l||l|l|}
	\hline 	
 	Commande 				& Sens 						& Numéro de niveau 	\\
 	\hline
 	\hline
 	\cs{part}			& Titre de partie 			& -1	 \\
 	\cs{chapter} 		& Titre de chapitre 		& 0 	 	 \\
	\cs{section}			& Titre de section  		& 1			\\
	\cs{subsection}		& Titre de sous-section 	& 2			\\
	\cs{subsubsection}	& Titre de sous-sous-section& 3			\\
	\cs{paragraph}		& Titre de paragraphe 		&4			\\
	\cs{subparagraph}		& Titre de sous-paragraphe 	&5			\\
	\hline
	\end{tabular}


Quelques remarques importantes :
\begin{itemize}
\item Le niveau \cs{chapter} n'existe pas dans la classe \classe{article} ;
\item Chaque niveau de titre se voit attribuer un numéro. Ce numéro sert lors de l'affichage de la table des matières pour définir sa profondeur.\label{numeroniveau}\renvoi{tocdepth}
\item Les niveaux dont les numéros sont inférieurs à 1 provoquent, par défaut, un changement de pages.
\item Les niveaux dont les numéros sont supérieurs à 3 ne provoquent pas de changement de paragraphe. Ils sont positionnés en \enquote{lettrine}.
\end{itemize}

\subsection{Des titres non numérotés}
Par défaut, tout les titres sont numérotés automatiquement\footnote{Nous verrons plus loins comment changer la numérotation.}. Il est possible d'avoir un titre non numéroté, en faisant suivre le nom de la commande d'un astérique :
\begin{minted}{latex}
\chapter*{Un chapitre non numéroté}
\end{minted}

Toutefois un titre non numéroté ne sera pas ajouté à la table des matières\renvoi{toc}. Pour contourner ce problème, il faut utiliser la commande 
\cs{addcontentsline}\verb|{toc}|\marg{1}\marg{2}| où : \label{addcontentsline}
\begin{description}
	\item[\marg{1}] est le type de titre ;
	\item[\marg{2}] est le texte du titre ;
\end{description}

Un exemple sera plus parlant :


\begin{minted}[linenos]{latex}
\chapter*{Introduction}
\addcontentsline{toc}{chapter}{Introduction}
\end{minted}


\begin{anedocte}
Le lecteur alerte se demandera sans doute pourquoi il est nécessaire de mettre \verb|toc| comme premier argument. Cela correspond à l'extension du fichier qui contiendra la table des matières : nous renvoyons vers le chapitre dédiée à ce sujet.\renvoi{toc}
\end{anedocte}

\section{Structurer ses fichiers}\label{inclusion}

Jusqu'à maintenant, vous aviez tout mis dans un seul fichier. Une fonctionalité intéressante de \LaTeX{} est la possibilité d'inclusion des fichiers dans un fichier, pour ainsi séparer son travail en plusieurs fichiers, chaque fichier contenant une partie seulement du document final.

Par exemple, il est possible de faire un fichier par chapitre d'un mémoire. Ou encore de faire un fichier par texte cité dans un exemplier. Seul un document \enquote{père} sera compilé, ce document appelera des documents \enquote{fils}.

Pourquoi procéder ainsi ?
\begin{itemize}
\item Pour pouvoir changer plus aisément l'ordre des parties. 
\item Pour pouvoir \enquote{recycler} plus facilement certaines parties.
\item Pour pouvoir compiler seulement certaines parties.
\end{itemize}

Concrètement comment fait-on ?
\begin{enumerate}
\item Le fichier \enquote{père} devra systématiquement commencer par un appel de classe.
\item Les fichiers \enquote{fils} ne devront contenir aucun appel de classe.
\item Ils seront inclus dans le document fils par l'une des commandes suivantes :
\begin{itemize}
	\item \cs{include}\marg{chemin-du-fichier}|, qui entraînera systématiquement un saut de page.
	\item \cs{input}\marg{chemin-du-fichier}|, qui n'entraînera pas de saut de page.
\end{itemize}
\item La commande \cs{input}, contrairement à \cs{include} peut être aussi appelée dans un fichier \enquote{fichier}, voire dans un fichier \enquote{petit-fils} etc.

\end{enumerate}

Nous conseillons de mettre l'ensemble des appels à des packages dans un fichier à part. Ainsi, vous pourrez disposer d'un jeu de package pour tout vos documents : il suffira d'appeler à chaque fois ce fichier.


\subsection{Comment indiquer le chemin du fichier}\label{chemin}

La notion de chemin de fichier en informatique renvoie à l'arborescence des dossiers sur un ordinateur.

En \LaTeX{}, le chemin du fichier se compte à partir du fichier \enquote{père}, celui qui est compilé. \emph{Y compris lorsqu'on procède à une inclusion dans un fichier \enquote{fils}}.

On indique le chemin du fichier en séparant chaque dossiers par \verb|/|.\footnote{Cette norme s'applique même sous Windows, qui sépare traditionnellement les répertoires par des \texttt{\ } dans les chemins.} Par exemple, nous souhaitons inclure le fichier nommé \verb|c.tex| situé dans le dossier \verb|b|, lui même situé dans le dossier \verb|a|, qui se trouve à côté du fichier \enquote{père}.

Il faut que nous mettions dans notre fichier \enquote{père} :
\begin{minted}{latex}
\input{a/b/c}
%ou bien
\include{a/b/c}
\end{minted}
\begin{attention}

Il ne faut pas mettre l'extension \ext{tex} dans le nom du fichier.

Il est déconseillé d'avoir des caractères spéciaux dans le nom des dossiers et des fichiers.
\end{attention}

Nous conseillons de mettre les fichiers \enquote{fils} dans un ou plusieurs sous-dossier.

\section{La classe \classenoidx{book} : structuration globale du document}\sindex[classe]{book}\label{sectionbook}

La classe \classe{book} propose, en plus des niveaux de titres, une manière de structurer en quatre parties sont travail : préambules (avant-propos, sommaire, introductions etc.) ; corps du travail ; appendices ; outils de navigation (index, glossaires, bibliographie, tables des matières,  etc.). 

Chacune de ces parties est indiquée par une commande initiale, respectivement : \cs{frontmatter} ; \cs{mainmatter} ; \cs{appendix}\footnote{Cette commande existe aussi dans la classe \classe{article}.}\cs{backmatter}.

Cette structuration en partie globales aura un impact sur la présentation des numéro de page (romains ou arabes) et sur la numérotation des titres.

Ainsi, par défaut : \begin{enumerate}
\item\cs{frontmatter} donne des titres non numérotés mais présents dans la table des matières. En outre les numéros de pages sont en chiffres romains minuscules. 
\item\cs{maintmatter} donne des titres numérotés. La numérotation des pages est réinitialisée et est en chiffre arabe.
\item\cs{appendix} affiche les numéros de titres sous forme de lettres majuscules. Le texte \forme{chapitre} est remplacé par \forme{appendice}.
\item\cs{backmatter} supprime les numéros de chapitre mais les présente dans la table des matières.
\end{enumerate}

